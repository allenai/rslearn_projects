{
  "layers": {
    "gse": {
      "band_sets": [
        {
          "bands": [
            "A00",
            "A01",
            "A02",
            "A03",
            "A04",
            "A05",
            "A06",
            "A07",
            "A08",
            "A09",
            "A10",
            "A11",
            "A12",
            "A13",
            "A14",
            "A15",
            "A16",
            "A17",
            "A18",
            "A19",
            "A20",
            "A21",
            "A22",
            "A23",
            "A24",
            "A25",
            "A26",
            "A27",
            "A28",
            "A29",
            "A30",
            "A31",
            "A32",
            "A33",
            "A34",
            "A35",
            "A36",
            "A37",
            "A38",
            "A39",
            "A40",
            "A41",
            "A42",
            "A43",
            "A44",
            "A45",
            "A46",
            "A47",
            "A48",
            "A49",
            "A50",
            "A51",
            "A52",
            "A53",
            "A54",
            "A55",
            "A56",
            "A57",
            "A58",
            "A59",
            "A60",
            "A61",
            "A62",
            "A63"
          ],
          "dtype": "float32"
        }
      ],
      "data_source": {
        "class_path": "rslearn.data_sources.aws_google_satellite_embedding_v1.GoogleSatelliteEmbeddingV1",
        "ingest": false,
        "init_args": {
          "metadata_cache_dir": "cache/gse"
        },
        "query_config": {
          "max_matches": 8
        }
      },
      "resampling_method": "nearest",
      "type": "raster"
    },
    "label": {
      "type": "vector"
    },
    "label_raster": {
      "band_sets": [
        {
          "bands": [
            "label"
          ],
          "dtype": "uint8",
          "nodata_vals": [
            255
          ]
        }
      ],
      "type": "raster"
    },
    "landsat": {
      "band_sets": [
        {
          "bands": [
            "B1",
            "B2",
            "B3",
            "B4",
            "B5",
            "B6",
            "B7",
            "B9",
            "B10",
            "B11"
          ],
          "dtype": "uint16",
          "zoom_offset": -1
        },
        {
          "bands": [
            "B8"
          ],
          "dtype": "uint16"
        }
      ],
      "data_source": {
        "class_path": "rslearn.data_sources.aws_landsat.LandsatOliTirs",
        "ingest": false,
        "init_args": {
          "metadata_cache_dir": "cache/landsat",
          "sort_by": "cloud_cover"
        },
        "query_config": {
          "max_matches": 12,
          "period_duration": "30d",
          "space_mode": "PER_PERIOD_MOSAIC"
        }
      },
      "type": "raster"
    },
    "output": {
      "type": "vector"
    },
    "sentinel1_ascending": {
      "band_sets": [
        {
          "bands": [
            "vv",
            "vh"
          ],
          "dtype": "float32"
        }
      ],
      "data_source": {
        "class_path": "rslearn.data_sources.planetary_computer.Sentinel1",
        "ingest": false,
        "init_args": {
          "cache_dir": "cache/planetary_computer",
          "query": {
            "sar:instrument_mode": {
              "eq": "IW"
            },
            "sar:polarizations": {
              "eq": [
                "VV",
                "VH"
              ]
            },
            "sat:orbit_state": {
              "eq": "ascending"
            }
          }
        },
        "query_config": {
          "max_matches": 12,
          "period_duration": "30d",
          "space_mode": "PER_PERIOD_MOSAIC"
        }
      },
      "type": "raster"
    },
    "sentinel1_descending": {
      "band_sets": [
        {
          "bands": [
            "vv",
            "vh"
          ],
          "dtype": "float32"
        }
      ],
      "data_source": {
        "class_path": "rslearn.data_sources.planetary_computer.Sentinel1",
        "ingest": false,
        "init_args": {
          "cache_dir": "cache/planetary_computer",
          "query": {
            "sar:instrument_mode": {
              "eq": "IW"
            },
            "sar:polarizations": {
              "eq": [
                "VV",
                "VH"
              ]
            },
            "sat:orbit_state": {
              "eq": "descending"
            }
          }
        },
        "query_config": {
          "max_matches": 12,
          "period_duration": "30d",
          "space_mode": "PER_PERIOD_MOSAIC"
        }
      },
      "type": "raster"
    },
    "sentinel2": {
      "band_sets": [
        {
          "bands": [
            "B02",
            "B03",
            "B04",
            "B08"
          ],
          "dtype": "uint16"
        },
        {
          "bands": [
            "B05",
            "B06",
            "B07",
            "B8A",
            "B11",
            "B12"
          ],
          "dtype": "uint16",
          "zoom_offset": -1
        },
        {
          "bands": [
            "B01",
            "B09",
            "B10"
          ],
          "dtype": "uint16",
          "zoom_offset": -2
        }
      ],
      "data_source": {
        "class_path": "rslearn.data_sources.planetary_computer.Sentinel2",
        "ingest": false,
        "init_args": {
          "cache_dir": "cache/planetary_computer",
          "harmonize": true,
          "query": {
            "eo:cloud_cover": {
              "lt": 50
            }
          },
          "sort_by": "eo:cloud_cover"
        },
        "query_config": {
          "max_matches": 12,
          "period_duration": "30d",
          "space_mode": "PER_PERIOD_MOSAIC"
        }
      },
      "type": "raster"
    }
  }
}
